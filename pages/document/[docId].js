import ContentDocument from "@components/documents/ContentDocument";
import { Box, Stack } from "@mui/material";
import DocBreadcrumbs from "@page-components/Document/DocBreadcrumbs";
import DocImage from "@page-components/Document/DocImage";
import React from "react";
import { getDocument, getFullDocument } from "@lib/document";
import ErrorPage from "@page-components/Error";

const DUMMY_DOCUMENT = {
  _id: { $oid: "6271460f4cd1e4764b24afde" },
  title: "Overview of The Maker Protocol",
  description:
    "Fugiat officia aliquip et eu tempor laboris adipisicing duis dolore. Cillum incididunt consequat ipsum occaecat ad commodo consectetur adipisicing elit qui culpa duis.",
  level: "beginner",
  topic: "Maker Protocol",
  subtopic: "DAO",
  brand: "Meta Analysis",
  contentType: "documents",
  duration: { $numberInt: "30" },
  author: { $oid: "621d4488dffa5fc6225e8257" },
  body: "There are many published articles, papers, videos, and blog posts that attempt to explain the Maker Protocol. The quality of educational material in this corpus varies. As a result, we have compiled a non-exhaustive list of resources—attempting to point out which ones are better than others, and, more importantly, the mistakes contained within some of them.\n\n  \n\n#### Great Resources (Recommended)\n\n  \n\nThese are the best external resources we could find explaining the Maker Protocol.\n\n  \n  \n  \n\n1. [The Maker Protocol Whitepaper](https://makerdao.com/en/whitepaper/) by MakerDAO\n\n  \n\n#### Other Resources\n\n  \n\nHere are some other resources on the topic that don’t have too many notable points. If a particular resource makes an incorrect point, it will be corrected under the resource.\n\n  \n\n[A TAXONOMY OF STABLECOINS](https://www.tokendaily.co/blog/a-taxonomy-of-stablecoins) by Cyrus Younessi on Token Daily\n\n  \n\nCommentary: The article talks about global settlement: “_Global settlement is essentially a graceful unwinding of the entire MakerDAO system, where everyone can trade in each DAI for $1 worth of collateral._” However, this term is outdated, as it is now called emergency shutdown.\n\n  \n\n[Part 2: A Primer on Dai](https://blog.makerdao.com/part-2-a-primer-on-dai-2/) by MakerDAO\n\n  \n\nCommentary: There were no mistakes spotted.\n\n  \n\n[MakerDAO](https://messari.github.io/research/profiles/MakerDAO(MKR).pdf) by Roy Learner on Messari\n\n  \n\nCommentary: The author mentions the Maker token: _“The network uses two tokens, Dai, which is the stable asset, and Maker, which is a decentralized autonomous organization (DAO), that seeks to control the price of Dai.” _However, maker is not a DAO, but a governance token used by the DAO. The author also mentions that _“The Maker token (MKR) is a token that derives its value from the interest payments, called stability fees, which are paid by borrowers that create Dai tokens.” _However, this is incorrect, as MKR is priced by the market, not by stability fees, though revenue from stability fees does play a part in market sentiment of MKR. Finally, the author mentions that _“To retrieve collateral users repay the balance of DAI which they withdrew, along with an interest payment, called a stability fee, denominated in MKR.” _This is also outdated, as stability fees aren’t paid in MKR, but rather Dai.\n\n  \n\n[How to Use the DAI Platform](https://medium.com/cryptolinks/maker-for-dummies-a-plain-english-explanation-of-the-dai-stablecoin-e4481d79b90) | [Part 2](https://gdipri01.medium.com/maker-for-dummies-part-2-3b364f86bbfd) by Gregory DiPrisco on Medium\n\n  \n\nCommentary: The author mentions: “_In return for regulating the system, MKR holders are rewarded with fees._” However, MKR holders are not rewarded with fees. However, MKR holders can vote on what to do with the revenue (through fees) generated by the protocol. The author also mentions: “_A global settlement can be triggered by a select group of trusted individuals who hold the global settlement keys._” However, this is outdated since global settlement is now called emergency shutdown. Furthermore, emergency shutdown does not require global keys; it can be enacted by a majority of MKR holders. The author also states: “​​_Given the loan is paid back in full with interest, release the collateral and send part of the interest payment to MKR holders by burning MKR tokens._” However, this is false, as previously mentioned, MKR holders do not receive interest payments. Additionally, this is not the mechanism/process by which MKR tokens are burned. The author also states: “_If the loan goes below a certain threshold, liquidate the collateral for Dai up to the value of the loan — destroy this Dai._” However, when vaults are liquidated, there is an additional liquidation penalty. Besides, when liquidating, the DAI is not destroyed, rather, DAI already in the ecosystem is earned by the Maker Protocol through the auctioning of collateral, then burned.\n\n  \n\n[How to Use the DAI Platform](https://coincentral.com/maker-dai-beginner-guide/) by Johnny Sessa\n\n  \n\nCommentary: The article mentions that “both are soft-pegged to the price of one U.S. dollar,” referring to both Tether and Dai. However, Tether is fiat-backed, meaning that it is hard-pegged to the USD. Additionally, regarding stability fees, the author incorrectly states that “You can only use MKR to pay the fees accrued on CDPs that generate Dai in the Maker system.” Stability fees must be paid in Dai.\n\n  \n\n[How to Use the DAI Platform](https://medium.com/@james_3093/the-dai-stablecoin-is-a-game-changer-for-ethereum-and-the-entire-cryptocurrency-ecosystem-13fb412d1e75) by James Seibel\n\n  \n\nCommentary: The author incorrectly mention that “There is nothing that can be shut down, and no centralized authority that needs to be trusted.” Technically, there is a feature called emergency shutdown that can shut the Maker protocol down. Next, the author incorrectly mentions that “...paying down debt in a CDP requires the owner to pay a 1% annual fee for taking out the loan, payable only in MKR.” This is incorrect, not only in the stability fee rate, but also in the payment option of MKR. Lastly, this article is about SCD (single collateral DAI), which is a previous form of DAI. Now, we use MCD (multi collateral DAI). With this update, many things have changed from SCD. That being said, many things in this article aren’t incorrect per se, just outdated.\n\n  \n\n[How to Use the DAI Platform](https://medium.com/ethex-market/using-the-dai-platform-ac7c54df7a1e) by Jordan Randolph\n\n  \n\nCommentary: This article is about SCD (single collateral DAI), which is a previous form of DAI. Now, we use MCD (multi collateral DAI). With this update, many things have changed from SCD. That being said, this article isn’t incorrect per se, just outdated.\n\n  \n\n[Intro to MakerDAO: Stablecoin (Blockgeeks Part 2) ](https://blockgeeks.com/guides/makerdao-stablecoin-blockgeeks-part-2/)by Amir Rosic on BlockGeeks\n\n  \n\nCommentary: Much of the information in the article is outdated. For example, regarding the DAO structure, the author writes that “_MakerDAO is lead by Rune Christensen, its CEO and founder. He studied International Business from the Copenhagen Business School. Former Amazon software engineer Andy Milenius is the CTO of the company.”_ MakerDAO is fully decentralized, meaning that the original Maker Foundation team no longer has control over the protocol. Other outdated information includes the description of the CDP creation process, which is based on SCD. In addition, the author’s explanation of the technical aspects of Maker are somewhat unhelpful. His description of smart contracts is not quite accurate, writing that _“Smart contracts are how things get done in the Ethereum ecosystem. When someone wants to get a particular task done in Ethereum they initiate a smart contract with one or more people. Smart contracts are a series of instructions, written using the programming language “solidity”, which work on the basis of the IFTTT logic aka the IF-THIS-THEN-THAT logic. Basically, if the first set of instructions are done then execute the next function and after that the next and keep on repeating until you reach the end of the contract.” _A better description of smart contracts is that they are essentially functions on the blockchain that can get called. Finally, he oversells the benefits of public blockchains, saying that _“Every transaction that you go through the smart contracts will get recorded and updated by the network. What this does is that it keeps everyone involved with the contract accountable for their actions. It takes away human malice by making every action taken visible to the entire network” _However, just because everything is public doesn’t mean that blockchain networks are safe. Additionally, when discussing CDP closing, the author writes that _“When the user wants to retrieve their collateral, they have to pay down the debt in the CDP, plus the Stability fee that continuously accrue on the debt over time. The Stability Fee can only be paid in MKR. Once the user sends the requisite Dai and MKR to the CDP, paying down the debt and Stability Fee, the CDP becomes debt free.” _This is incorrect in that the stability fee is not paid in MKR, but rather in Dai. Finally, the liquidation diagram implies that the user incurs no loss during liquidation, but this is untrue.\n\n  \n\n[Snappy guide to MakerDAO and DAI tokens](https://medium.com/coinmonks/tl-dr-guide-to-makerdao-and-dai-tokens-228a11fab6a2) by Shaun on Medium\n\n  \n\nCommentary: The author states: _“If the value of ethereum dropped, then your CDP would be at risk of automatic liquidation, whereby the smart-contracts administering the system would shutdown the CDP on your behalf and return your original ETH collateral minus the amount of ETH required to acquire the 100 DAI needed to close it down (at a price much higher than what you sold it at, thus incurring a net loss on your part). Before the liquidation event occurs you have the option of reducing the collateralization ratio by returning some of the DAI.” _The author forgot to include that there is also a liquidation penalty for the CDP owner. Additionally, this article discusses single collateral DAI (SCD); however, this is outdated as we now use multi collateral DAI (MCD).\n\n  \n\n[A stable coin to kill traditional secured loans: Ladies and Gents meet Maker Dai](https://medium.com/@lemonchelo/a-stable-coin-to-kill-traditional-secured-loans-ladies-and-gents-meet-dai-d17774a39f2e) by Marce Cavazzoli on Medium\n\n  \n\nCommentary: The author states:_“The MKR token is the main token of the platform. It’s price can fluctuate like any other crypto. MKR is used to pay interest of the loans and as a governance token.”_ However, the MKR token is not used to pay the interest (also known as stability fees). Instead, DAI is used.\n\n  \n\n[What is DAI, and how does it work?](https://medium.com/mycrypto/what-is-dai-and-how-does-it-work-742d09ba25d6) by Sharon Manrique on Medium\n\n  \n\nCommentary: The author states: _“The Collateralized Debt Position (CDP) is a financial cryptocurrency concept that has been in development since 2014 by the MakerDAO project, which offers a possible solution to the high volatility that cryptocurrency faces today through the stablecoin known as Dai.” _In this article, the author points out the problem with a high volatility currency and says this is the reason for the lack of adoption of cryptocurrencies as a medium of exchange. The way this quote is worded, implies that you will not be affected by the volatility of cryptocurrency if you open a CDP and generate Dai. However, this is not true. When you open a CDP, you are still exposed to the volatility of the underlying collateral, even though the DAI you obtain is stable. Based on the volatility of your collateral, the next day, you might actually lose how much DAI you can successfully receive from the CDP. In other words, the only time you are not affected by the volatility is when you get Dai without opening a CDP (most commonly through exchanges). The author also states: _“Once the CDP holds the assets deposited by a user, the user can then generate the equivalent USD value in Dai that they wish to borrow.”_ However, a user cannot generate the equivalent USD value as all CDPs must be overcollateralized. The author also states: _“there are no restrictions to using Dai, it can be use the same way you would use any other cryptocurrency.”_ However, of course, DAI cannot be used just like any other cryptocurrency as each cryptocurrency has its own set of functionalities. For example, you can vote on the Maker Protocol with MKR, but you cannot do this with DAI. The author also states: _“You could deposit 10 ETH into a CDP (at time of writing, that is $1050 USD), generate the equivalent in Dai, and then send that 1050 Dai to the AICO.”_ However, as previously mentioned, a user cannot generate the equivalent USD value as all CDPs must be overcollateralized.",
  thumbnail:
    "https://thumbs.dreamstime.com/b/bitcoin-banner-golden-digital-currency-cryptocurrency-futuristic-money-technology-worldwide-network-concept-vector-206771631.jpg",
  status: "published",
  timestamp: "2022-05-03T15:11:11Z",
};

const Document = ({ document }) => {
  if (!document) return <ErrorPage />;

  const { title, thumbnail } = document;

  return (
    <Box sx={{ minHeight: "100vh" }}>
      <DocBreadcrumbs {...document} />

      <Box sx={{ background: "linear-gradient(90deg, #E7F3F1 40%, #fff 60%)" }}>
        <Stack justifyContent="center" alignItems="center">
          <DocImage title={title} thumbnail={thumbnail} />
        </Stack>

        <ContentDocument data={document} />
      </Box>
    </Box>
  );
};

export default Document;

export async function getServerSideProps(context) {
  const docId = context.params.docId;

  const document = await getFullDocument(docId);

  return {
    props: { document },
  };
}
